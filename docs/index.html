<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@cael-aero/weight-and-balance</title><meta name="description" content="Documentation for @cael-aero/weight-and-balance"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@cael-aero/weight-and-balance</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@cael-aero/weight-and-balance</h2></div><div class="tsd-panel tsd-typography"><a id="md:weight-and-balance" class="tsd-anchor"></a><h1><a href="#md:weight-and-balance">weight-and-balance</a></h1><p>General Weight and Balance calculation library usable for gliders. Since this is based on simple
arm calculations, it likely can work with anything with a 2 point (or 3 if using tricycle undercarriage)
ground touching points. </p>
<p><img src="https://img.shields.io/npm/types/@cael-aero/casa-utils" alt="npm type definitions">
<img src="https://img.shields.io/node/v/@cael-aero/weight-and-balance" alt="node">
<a href="https://opensource.org/licenses/BSD-3-Clause"><img src="https://img.shields.io/badge/License-BSD%203--Clause-blue.svg" alt="License"></a>
<img src="https://img.shields.io/github/package-json/v/CAELAero/weight-and-balance" alt="GitHub package.json version">
<a href="https://travis-ci.com/CAELAero/weight-and-balance"><img src="https://travis-ci.com/CAELAero/weight-and-balance.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/CAELAero/weight-and-balance"><img src="https://coveralls.io/repos/github/CAELAero/weight-and-balance/badge.svg" alt="Coverage Status"></a></p>
<a id="md:documentation" class="tsd-anchor"></a><h2><a href="#md:documentation">Documentation</a></h2><p>The library has been built in accordance with the Gliding Federation of Australia&#39;s Airworthiness manuals -
specifically the Manual of Standard Procedures - Part 3, and the Weight and Balance reference guide (Rev 1.2).</p>
<ul>
<li>Repository <a href="https://github.com/CAELAero/weight-and-balance">https://github.com/CAELAero/weight-and-balance</a></li>
<li>API Documentation: <a href="https://caelaero.github.io/weight-and-balance/">https://caelaero.github.io/weight-and-balance/</a></li>
<li>AIRW-M01 MOSP Part 3 v9.2 <a href="https://doc.glidingaustralia.org/index.php?option=com_docman&view=document&layout=default&alias=2130-mosp-3-procedures-v7-3-2016-12-19-unmarked-airw-m01&category_slug=mosp-part-3-airworthiness&Itemid=101">https://doc.glidingaustralia.org/index.php?option=com_docman&amp;view=document&amp;layout=default&amp;alias=2130-mosp-3-procedures-v7-3-2016-12-19-unmarked-airw-m01&amp;category_slug=mosp-part-3-airworthiness&amp;Itemid=101</a> </li>
<li>AIRW-D011 Weight and Balance of Sailplanes Rev 1.2 <a href="https://doc.glidingaustralia.org/index.php?option=com_docman&view=document&layout=default&alias=3313-airw-d011-weight-and-balance-of-sailplanes-v1-1-23052023&category_slug=weight-and-balance-of-sailplanes-1&Itemid=101">https://doc.glidingaustralia.org/index.php?option=com_docman&amp;view=document&amp;layout=default&amp;alias=3313-airw-d011-weight-and-balance-of-sailplanes-v1-1-23052023&amp;category_slug=weight-and-balance-of-sailplanes-1&amp;Itemid=101</a></li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code class="language-sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@cael-aero/weight-and-balance</span><span class="hl-1"> </span><span class="hl-3">--save</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@cael-aero/weight-and-balance</span><br/><span class="hl-0">bower</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@cael-aero/weight-and-balance</span><span class="hl-1"> </span><span class="hl-3">--save</span>
</code><button>Copy</button></pre>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><a id="md:javascript" class="tsd-anchor"></a><h3><a href="#md:javascript">Javascript</a></h3><pre><code class="language-javascript"><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">casaUtils</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@cael-aero/weight-and-balance&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">config</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">datum</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">measurements</span><span class="hl-1"> = { ... };</span><br/><br/><span class="hl-3">var</span><span class="hl-1"> </span><span class="hl-4">output</span><span class="hl-1"> = </span><span class="hl-0">calculateWeightAndBalance</span><span class="hl-1">(</span><span class="hl-4">datum</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">, </span><span class="hl-4">measurements</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:typescript" class="tsd-anchor"></a><h3><a href="#md:typescript">TypeScript</a></h3><pre><code class="language-typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-4">calculateWeightAndBalance</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cael-aero/weight-and-balance&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">datum</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceDatum</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">measurements</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceMeasurement</span><span class="hl-1"> = { ... };</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">output</span><span class="hl-1"> = </span><span class="hl-0">calculateWeightAndBalance</span><span class="hl-1">(</span><span class="hl-4">datum</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">, </span><span class="hl-4">measurements</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:measurement-units" class="tsd-anchor"></a><h3><a href="#md:measurement-units">Measurement Units</a></h3><p>The calculation library is unitless and does not care what numbers you put in. By convention, and using
TCDS data, it is almost always in metric units - kilograms for weight, millimetres for distances. 
Anything representing water ballast amounts are still in kilograms, though thanks to metric units,
litres and kilograms are interchangable. All the examples provided here use metric numbers.</p>
<a id="md:api-examples" class="tsd-anchor"></a><h2><a href="#md:api-examples">API Examples</a></h2><a id="md:calculate-a-new-wampb-outcome-from-a-set-of-measurements" class="tsd-anchor"></a><h3><a href="#md:calculate-a-new-wampb-outcome-from-a-set-of-measurements">Calculate a new W&amp;B outcome from a set of measurements</a></h3><p>This is the typical scenario after repair work. Weights have changed, 
requiring a full reweigh of the aircraft. </p>
<pre><code class="language-typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-4">calculateWeightAndBalance</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">AircraftConfiguration</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceDatum</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceComponentChange</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cael-aero/weight-and-balance&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">datum</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceDatum</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">measurements</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceMeasurement</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">undercarriage1Weight:</span><span class="hl-1"> </span><span class="hl-8">246</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">undercarriage2Weight:</span><span class="hl-1"> </span><span class="hl-8">33</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">wing1Weight:</span><span class="hl-1"> </span><span class="hl-8">72</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">wing2Weight:</span><span class="hl-1"> </span><span class="hl-8">74</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">output</span><span class="hl-1"> = </span><span class="hl-0">calculateWeightAndBalance</span><span class="hl-1">(</span><span class="hl-4">datum</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">, </span><span class="hl-4">measurements</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:update-the-weight-and-balance-after-component-change" class="tsd-anchor"></a><h3><a href="#md:update-the-weight-and-balance-after-component-change">Update the weight and balance after component change</a></h3><p>Typical of a maintenance update where an instrument is changed or heavier tailwheel has been added. 
A single item has changed on the aircraft and you have measured the arm 
for it. </p>
<pre><code class="language-typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-4">updateWeightAndBalance</span><span class="hl-1">. </span><br/><span class="hl-1">    </span><span class="hl-4">AircraftConfiguration</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceDatum</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceComponentChange</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cael-aero/weight-and-balance&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">datum</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceDatum</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">change</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceComponentChange</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">aircraftWeight:</span><span class="hl-1"> </span><span class="hl-8">279</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">aircraftArm:</span><span class="hl-1"> </span><span class="hl-8">551</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">nonLiftingPartsWeight:</span><span class="hl-1"> </span><span class="hl-8">133</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">itemArm:</span><span class="hl-1"> </span><span class="hl-4">datum</span><span class="hl-1">.</span><span class="hl-4">distanceFrontWheelToRearWheel</span><span class="hl-1"> + </span><span class="hl-4">datum</span><span class="hl-1">.</span><span class="hl-4">distanceFrontWheelToDatum</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">itemWeightChange:</span><span class="hl-1"> -</span><span class="hl-8">3.0</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">weightChangeInFuselage:</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">output</span><span class="hl-1"> = </span><span class="hl-0">updateWeightAndBalance</span><span class="hl-1">(</span><span class="hl-4">datum</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">, </span><span class="hl-4">change</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Note the use of the <code>weightChangeInFuselage</code> flag here. This is essential
to know as it determines whether the weight change impacts the Non-lifting parts
weight of the aircraft (ie total fuselage load).</p>
<a id="md:recalculate-a-previous-entry" class="tsd-anchor"></a><h3><a href="#md:recalculate-a-previous-entry">Recalculate a previous entry</a></h3><p>This is used when you&#39;re trying to reverse engineer a previous W&amp;B calculation
and all you have is the logbook entry. That typically just has the aircraft
empty arm and CG location. From this you can regenerate all the placard data.
The other two calculation requests call this internally after determining the 
new CG location and empty weight.  It is basically a simplified version of
the previous example - just leave the itemX properties undefined.</p>
<pre><code class="language-typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-4">generateWeightAndBalancePlacardData</span><span class="hl-1">. </span><br/><span class="hl-1">    </span><span class="hl-4">AircraftConfiguration</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceDatum</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceComponentChange</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cael-aero/weight-and-balance&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">datum</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceDatum</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">change</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceComponentChange</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">aircraftWeight:</span><span class="hl-1"> </span><span class="hl-8">279</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">aircraftArm:</span><span class="hl-1"> </span><span class="hl-8">551</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">nonLiftingPartsWeight:</span><span class="hl-1"> </span><span class="hl-8">133</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">output</span><span class="hl-1"> = </span><span class="hl-0">generateWeightAndBalancePlacardData</span><span class="hl-1">(</span><span class="hl-4">datum</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">, </span><span class="hl-4">change</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:calculation-options" class="tsd-anchor"></a><h3><a href="#md:calculation-options">Calculation Options</a></h3><p>All forms of the above methods can take an options object, that guides the
output generation. It has the following properties</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>useGFAMinBuffer</td>
<td>false</td>
<td>If true, apply a 5% buffer to the aft CG location</td>
</tr>
<tr>
<td>calculatePrimary</td>
<td>true</td>
<td>Calculate for the primary (true) or alternate (false) wingspan. Note some aircraft will have different max all up weight limits depending on the wingspan chosen, so this will adjust the output accordingly</td>
</tr>
<tr>
<td>minAllowedWeightDifference</td>
<td>10</td>
<td>Stop the calculation when the difference between the minimum and maximum pilot weights becomes less than this value</td>
</tr>
<tr>
<td>placardWeightIncremments</td>
<td>10</td>
<td>The weight increment for each line when generating the placard data</td>
</tr>
<tr>
<td>p1ArmRangePercentage</td>
<td>undefined</td>
<td>Some aircraft can have a min and max Pilot 1 arm specified. If that is true in the datum information, and this value is defined, it is treated as a percentage of the difference between the two arms to use as a &quot;average&quot; P1 arm. If undefined, and a min/max is provided in the datum, then the conservative approach is to use the shortest arm with the minimum pilot weight, and the longest arm with the maximum pilot weight</td>
</tr>
</tbody></table>
<p>If you&#39;re running a club two-seater, then you would run the code like this:</p>
<pre><code class="language-typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-4">generateWeightAndBalancePlacardData</span><span class="hl-1">. </span><br/><span class="hl-1">    </span><span class="hl-4">AircraftConfiguration</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceDatum</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">WeightAndBalanceComponentChange</span><br/><span class="hl-1">} </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@cael-aero/weight-and-balance&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">datum</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceDatum</span><span class="hl-1"> = { .... };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">change</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceComponentChange</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">aircraftWeight:</span><span class="hl-1"> </span><span class="hl-8">279</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">aircraftArm:</span><span class="hl-1"> </span><span class="hl-8">551</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">nonLiftingPartsWeight:</span><span class="hl-1"> </span><span class="hl-8">133</span><span class="hl-1">,</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">output</span><span class="hl-1"> = </span><span class="hl-0">generateWeightAndBalancePlacardData</span><span class="hl-1">(</span><span class="hl-4">datum</span><span class="hl-1">, </span><span class="hl-4">config</span><span class="hl-1">, </span><span class="hl-4">change</span><span class="hl-1">, { </span><span class="hl-4">useGFAMinBuffer:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> });</span>
</code><button>Copy</button></pre>
<a id="md:detailed-data-description" class="tsd-anchor"></a><h2><a href="#md:detailed-data-description">Detailed Data Description</a></h2><a id="md:introduction" class="tsd-anchor"></a><h3><a href="#md:introduction">Introduction</a></h3><p>The library consists of 3 main utility functions, and a large collection of interface/type definitions for
Typescript. There is minimal use of OO typing, allowing for reasonable strict Javascript usage too. There&#39;s
no runtime dependencies, but naturally a bunch of dev-time dependencies to compile, build and test the
library. </p>
<p>To use the library, you need 2 pieces of reference data, and the measurements. This library does not
provide the reference data, but we also track a standard list separately that can be used as input. Some
example reference data can be seen from the unit tests that accompany this library. </p>
<a id="md:aircraft-datum" class="tsd-anchor"></a><h3><a href="#md:aircraft-datum">Aircraft Datum</a></h3><p>The datum provides reference measurement information about the aircraft - the location of the reference
point (almost always the Wing Root Leading Edge - WRLE), how to level the aircraft before measuring, 
and then 3 sets of data: distances (otherwise known as arms), limits around weights, and then some
other measurements about aircraft dimensions. Mandatory items are needed for the core calculations.
Optional values are used for the aircraft that have those configurations available. For example some
aircraft have tail ballast tanks for pilot CG and wing ballast CG measurement. Arms for each of these
are needed. </p>
<p>Datum information is common to a type - it should not change per individual aircraft within
that type. Most of the datum information will be sourced from its Type Certificate Data Sheet (TCDS).
However, optional information will be often difficult to come by - pilot arms are often found in
repair or maintenance manuals, tail and cockpit ballast arms are often missing completely and general
internet data is used from another&#39;s calculation. </p>
<p>A typical declaration might look like this (using a SZD48-1 as an example):</p>
<pre><code class="language-typescript"><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">datum</span><span class="hl-1">: </span><span class="hl-7">WeightAndBalanceDatum</span><span class="hl-1"> = {</span><br/><span class="hl-1">        </span><span class="hl-4">location:</span><span class="hl-1"> </span><span class="hl-2">&quot;WRLE&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">levellingInstructions:</span><span class="hl-1"> </span><span class="hl-2">&quot;Trailing edge of wing root 22mm below datum&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">calculationModel:</span><span class="hl-1"> </span><span class="hl-4">DatumCalculationModel</span><span class="hl-1">.</span><span class="hl-6">MODEL_1</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">maxAllUpWeight:</span><span class="hl-1"> </span><span class="hl-8">535</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">maxDryWeight:</span><span class="hl-1"> </span><span class="hl-8">385</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">maxNonLiftingPartsWeight:</span><span class="hl-1"> </span><span class="hl-8">245</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">maxSeatWeight:</span><span class="hl-1"> </span><span class="hl-8">110</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">minAllowedPilotWeight:</span><span class="hl-1"> </span><span class="hl-8">70</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">forwardCGLimit:</span><span class="hl-1"> </span><span class="hl-8">158</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">aftCGLimit:</span><span class="hl-1"> </span><span class="hl-8">336</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">pilot1Arm:</span><span class="hl-1"> -</span><span class="hl-8">616</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">distanceFrontWheelToDatum:</span><span class="hl-1"> </span><span class="hl-8">120</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">distanceFrontWheelToRearWheel:</span><span class="hl-1"> </span><span class="hl-8">3648</span><br/><span class="hl-1">    };</span><br/>
</code><button>Copy</button></pre>
<a id="md:aircraft-configuration" class="tsd-anchor"></a><h3><a href="#md:aircraft-configuration">Aircraft Configuration</a></h3><p>The aircraft configuration provides general information about how the aircraft is built. A general
model is supplied here and contains far more information than what is needed for a weight and balance
calculation. Like the Datum, it is general per type of aircraft, though as an input here you can
customise the data according to the specific aircraft being calculated. For example, a DG300 could
be ordered with or without winglets, a tail tank was optional etc. A lot of early generation glass
gliders were delivered with the ability to take water ballast, but have developed leaks in the tanks
and are no longer capable of running ballast. A simple example, again for the SZD48-1 looks like
this:</p>
<pre><code class="language-typescript"><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = {</span><br/><span class="hl-1">        </span><span class="hl-4">hasFlaps:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">hasElevatorTrim:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">hasRudderVators:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">hasFixedUndercarriage:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">undercarriageType:</span><span class="hl-1"> </span><span class="hl-4">UndercarriageConfiguration</span><span class="hl-1">.</span><span class="hl-6">INLINE</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">seatingType:</span><span class="hl-1"> </span><span class="hl-4">SeatingConfiguration</span><span class="hl-1">.</span><span class="hl-6">SINGLE</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingSpanPrimary:</span><span class="hl-1"> </span><span class="hl-8">15</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingPanelCount:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">hasWingletOption:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingMaxBallastAmount:</span><span class="hl-1"> </span><span class="hl-8">150</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">cockpitBallastBlockCount:</span><span class="hl-1"> </span><span class="hl-8">0</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">tailCGAdjustBallastType:</span><span class="hl-1"> </span><span class="hl-4">TailBallastType</span><span class="hl-1">.</span><span class="hl-6">NONE</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">tailCGAdjustBallastCapacity:</span><span class="hl-1"> </span><span class="hl-3">null</span><br/><span class="hl-1">    };</span>
</code><button>Copy</button></pre>
<p>Most modern aircraft have two different wing length options available, and so to save on double
declaration of data, both options can be supplied in a single object instance and then the 
calculation options are used to select which of the two can be used. To supply both wingspans,
use the <code>wingspanAlternate</code> property eg:</p>
<pre><code class="language-typescript"><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = {</span><br/><span class="hl-1">        ....</span><br/><span class="hl-1">        </span><span class="hl-4">wingSpanPrimary</span><span class="hl-1">: </span><span class="hl-8">15</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingSpanAlternate:</span><span class="hl-1"> </span><span class="hl-8">18</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingPanelCount:</span><span class="hl-1"> </span><span class="hl-8">4</span><span class="hl-1">,</span><br/><span class="hl-1">    };</span><br/>
</code><button>Copy</button></pre>
<p>Note the use of the wingPanelCount field here. This represents that there&#39;s inner and outer panels
for the wings. However, the W&amp;B calculator does not require the use of 4 individual wing measured 
weights, and is fine just operating with a combined weight for left and right wings. This option
may be useful for UIs that collect data from an end user.</p>
<p>Finally, tail ballast is a complex thing. There&#39;s multiple ways it could be provided. The most
complex example would be the DG1000 that has water tank for balancing the wing ballast tanks,
but then blocks for pilot CG management. To make it even more tricky, there&#39;s different sizes 
of blocks. However, a glider like the LS10 has 2 separate water tanks - one each for wing ballast
and pilot CG adjustment. The calculator treats the wing ballast adjustment separately from the CG adjustment with individual fields.  Using the DG1000 as an example, here&#39;s configuration of
the tail ballast arrangements:</p>
<pre><code class="language-typescript"><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">config</span><span class="hl-1">: </span><span class="hl-7">AircraftConfiguration</span><span class="hl-1"> = {</span><br/><span class="hl-1">        .... </span><br/><span class="hl-1">        </span><span class="hl-4">seatingType</span><span class="hl-1">: </span><span class="hl-4">SeatingConfiguration</span><span class="hl-1">.</span><span class="hl-6">TANDEM</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingSpanPrimary:</span><span class="hl-1"> </span><span class="hl-8">18</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingSpanAlternate:</span><span class="hl-1"> </span><span class="hl-8">20</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingPanelCount:</span><span class="hl-1"> </span><span class="hl-8">4</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">wingMaxBallastAmount:</span><span class="hl-1"> </span><span class="hl-8">160</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">tailWingBallastCompensationAmount:</span><span class="hl-1"> </span><span class="hl-8">5.5</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">tailCGAdjustBallastType:</span><span class="hl-1"> </span><span class="hl-4">TailBallastType</span><span class="hl-1">.</span><span class="hl-6">BLOCKS</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">tailCGAdjustBallastCapacity:</span><span class="hl-1"> [</span><br/><span class="hl-1">            { </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;Large&quot;</span><span class="hl-1">, </span><span class="hl-4">weightPerBlock:</span><span class="hl-1"> </span><span class="hl-8">2.4</span><span class="hl-1">, </span><span class="hl-4">maxBlockCount:</span><span class="hl-1"> </span><span class="hl-8">4</span><span class="hl-1"> }, </span><br/><span class="hl-1">            { </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-2">&quot;Small&quot;</span><span class="hl-1">, </span><span class="hl-4">weightPerBlock:</span><span class="hl-1"> </span><span class="hl-8">1.2</span><span class="hl-1">, </span><span class="hl-4">maxBlockCount:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1"> }</span><br/><span class="hl-1">        ]</span><br/><span class="hl-1">    };</span><br/>
</code><button>Copy</button></pre>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>This source code is licensed under the BSD-style license found in the
LICENSE file in the root directory of this source tree. </p>
<a id="md:related-projects" class="tsd-anchor"></a><h2><a href="#md:related-projects">Related Projects</a></h2><p>Datum and aircraft config data: <a href="https://github.com/CAELAero/aircraft-data">https://github.com/CAELAero/aircraft-data</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:weight-and-balance"><span>weight-<wbr/>and-<wbr/>balance</span></a><ul><li><a href="#md:documentation"><span>Documentation</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:javascript"><span>Javascript</span></a></li><li><a href="#md:typescript"><span>Type<wbr/>Script</span></a></li><li><a href="#md:measurement-units"><span>Measurement <wbr/>Units</span></a></li></ul></li><li><a href="#md:api-examples"><span>API <wbr/>Examples</span></a></li><li><ul><li><a href="#md:calculate-a-new-wampb-outcome-from-a-set-of-measurements"><span>Calculate a new <wbr/>W&amp;<wbr/>B outcome from a set of measurements</span></a></li><li><a href="#md:update-the-weight-and-balance-after-component-change"><span>Update the weight and balance after component change</span></a></li><li><a href="#md:recalculate-a-previous-entry"><span>Recalculate a previous entry</span></a></li><li><a href="#md:calculation-options"><span>Calculation <wbr/>Options</span></a></li></ul></li><li><a href="#md:detailed-data-description"><span>Detailed <wbr/>Data <wbr/>Description</span></a></li><li><ul><li><a href="#md:introduction"><span>Introduction</span></a></li><li><a href="#md:aircraft-datum"><span>Aircraft <wbr/>Datum</span></a></li><li><a href="#md:aircraft-configuration"><span>Aircraft <wbr/>Configuration</span></a></li></ul></li><li><a href="#md:license"><span>License</span></a></li><li><a href="#md:related-projects"><span>Related <wbr/>Projects</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@cael-aero/weight-and-balance</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>